---
title: ä½¿ç”¨Next.jsåˆ›å»ºå…¨æ ˆapp
description: Next.jsæ˜¯ä¸€ä¸ªåŸºäºReactçš„å…¨æ ˆåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿåˆ›å»ºé«˜æ€§èƒ½çš„Webåº”ç”¨ç¨‹åºã€‚
category: 'æŠ€æœ¯æ€»ç»“'
tags:
  - å­¦ä¹ 
  - ç¼–ç¨‹
  - å‰ç«¯æ€»ç»“
  - Next.js
  - å…¨æ ˆ
date: '2023-02-08'
---

> ç¼–ç¨‹å°±åƒæ‘„å½±ğŸ“·ä¸€æ ·ï¼Œå†³å®šæˆç‰‡è´¨é‡çš„ä¸æ˜¯ä½ çš„å™¨æï¼Œè€Œæ˜¯ä½ çš„æƒ³æ³•

Next.jsæ˜¯ä¸€ä¸ªåŸºäºReactçš„å…¨æ ˆåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è½»æ¾åœ°æ„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬å‰ç«¯å’Œåç«¯ã€‚

è¿™ç¯‡æ–‡ç« å°±å¸¦å¤§å®¶**ç®€å•**äº†è§£ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨Next.jså»æ„å»ºå…¨æ ˆAppã€‚

![hero](/static/assets/images/how-to-create-a-full-stack-app-by-nextjs/hero.png)


## å‰ç«¯

Next.jsæœ‰å¾ˆå¤šçš„æ ·å¼æ–¹æ¡ˆï¼Œ[å‚è€ƒå®˜ç½‘](https://nextjs.org/docs/basic-features/built-in-css-support)

![frontend-style](/static/assets/images/how-to-create-a-full-stack-app-by-nextjs/frontend-style.png)

### åŸç”Ÿcss

åœ¨Next.jsä¸­ä½¿ç”¨åŸç”Ÿcssï¼Œä½ å¯ä»¥ç›´æ¥åœ¨`_app.tsx`ä¸­å…¨å±€å¼•å…¥

```tsx:pages/_app.tsx
import 'bootstrap/dist/css/bootstrap.css'
import '../styles/global.css'
```

æˆ–è€…ä¸ºé¿å…å…¨å±€ç±»åçš„å†²çªï¼Œä¹Ÿå¯ä»¥åœ¨ç»„ä»¶æ–‡ä»¶ä¸­å¼•å…¥ç”¨`*.module.css`ã€‚

```tsx:components/Button.tsx
import styles from './button.module.css'

<Button className={styles.button}>button</Button>
```

### Sass

Nextå†…ç½®Sassæ”¯æŒï¼Œä½†åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œä½ éœ€è¦å®‰è£…sass:

```bash
npm install --save-dev sass
```

å…¶ä½¿ç”¨æ–¹æ³•å’Œ`åŸç”Ÿcss`ä¸€è‡´ï¼Œä¹Ÿå¯ä»¥åœ¨`_app.tsx`ä¸­ç›´æ¥å¼•å…¥`*.scss`æˆ–åœ¨ç»„ä»¶ä¸­å¼•å…¥`*.module.scss`ã€‚

### Css in js

```tsx:components/Button.tsx
const Button = styled.button`
  font-size: 1rem;
`
<Button>button</Button>
<button style={{ fontSize: 16 }}>button</button>
```

### UIæ¡†æ¶

ä½¿ç”¨æˆç†Ÿçš„uiæ¡†æ¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿçš„å®Œæˆé¡µé¢æ­å»ºã€‚

å…¶ä¸­å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨cssï¼Œä½ å¯ä»¥é€‰æ‹©ï¼š

- [Ant Design](https://4x.ant.design/index-cn)

å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨css in jsï¼Œä½ å¯ä»¥é€‰æ‹©ï¼š

- [Material UI](https://mui.com/)

- [Chakra UI](https://chakra-ui.com/)

å‰ç«¯æ˜¯å¦éœ€è¦ä½¿ç”¨UIæ¡†æ¶ï¼Œå–å†³äºå…·ä½“çš„é¡¹ç›®éœ€æ±‚å’Œå¼€å‘å›¢é˜Ÿçš„æŠ€æœ¯æ°´å¹³å’Œåå¥½ã€‚å¦‚æœé¡¹ç›®éœ€è¦å¿«é€Ÿæ­å»ºç•Œé¢æˆ–è€…éœ€è¦ç»Ÿä¸€é£æ ¼ï¼Œä½¿ç”¨UIæ¡†æ¶å¯èƒ½æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚ä½†å¯¹äºä¸€äº›å°å‹é¡¹ç›®æˆ–è€…å¯¹çµæ´»æ€§æœ‰è¾ƒé«˜è¦æ±‚çš„é¡¹ç›®ï¼Œå¯èƒ½æ›´é€‚åˆæ‰‹å†™CSSå’Œè‡ªå®šä¹‰ç»„ä»¶ã€‚

## APIé£æ ¼

![API](/static/assets/images/how-to-create-a-full-stack-app-by-nextjs/api-style.png)

### RESTful API

RESTful APIæ˜¯ä¸€ç§åŸºäºRESTï¼ˆRepresentational State Transferï¼‰æ¶æ„é£æ ¼çš„APIè®¾è®¡è§„èŒƒï¼Œé€šè¿‡HTTPåè®®å®šä¹‰å¯¹èµ„æºçš„æ“ä½œæ–¹å¼ï¼Œä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’å»ºç«‹åœ¨èµ„æºçš„æ¦‚å¿µä¸Šï¼Œå…·æœ‰ç»Ÿä¸€æ¥å£ã€èµ„æºä¸ºä¸­å¿ƒã€æ— çŠ¶æ€ã€å¯ç¼“å­˜å’Œåˆ†å±‚ç³»ç»Ÿç­‰ç‰¹ç‚¹ã€‚

> [Next with RESTç¤ºä¾‹](https://github.com/vercel/next.js/tree/canary/examples/api-routes-rest)

### tRPC

RPCï¼ˆRemote Procedure Callï¼‰æ˜¯ä¸€ç§åŸºäºå‡½æ•°è°ƒç”¨çš„APIé£æ ¼ï¼Œå®¢æˆ·ç«¯é€šè¿‡è°ƒç”¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å‡½æ•°æ¥å®ç°æ•°æ®äº¤äº’ã€‚trpcæ˜¯ä¸€ä¸ªåŸºäºTypeScriptçš„å…¨æ ˆRPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç§ç®€å•è€Œå¼ºå¤§çš„æ–¹å¼æ¥å®šä¹‰å’Œè°ƒç”¨åç«¯æœåŠ¡ã€‚

>[Next with tRPCç¤ºä¾‹](https://github.com/trpc/examples-next-prisma-starter)

### GraphQL

GraphQLæ˜¯ä¸€ç§ç”¨äºAPIçš„æŸ¥è¯¢è¯­è¨€å’Œè¿è¡Œæ—¶ç¯å¢ƒï¼Œç”±Facebookäº2012å¹´å¼€å‘ã€‚å®ƒæä¾›äº†ä¸€ç§æ›´é«˜æ•ˆã€å¼ºç±»å‹ã€çµæ´»å’Œç›´è§‚çš„æ–¹æ³•æ¥è·å–æ•°æ®ã€‚ä¸REST APIç›¸æ¯”ï¼ŒGraphQLå…è®¸å®¢æˆ·ç«¯ç²¾ç¡®åœ°æŒ‡å®šè¯·æ±‚çš„æ•°æ®ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“ï¼Œæé«˜äº†æ€§èƒ½ã€‚

>[Next with GraphQlç¤ºä¾‹](https://github.com/vercel/next.js/tree/canary/examples/api-routes-graphql)

## ORM

ORM(Object Relational Map)ï¼Œå¯¹è±¡-å…³ç³»æ˜ å°„ã€‚å…¶æä¾›äº†ä¸æ•°æ®åº“äº¤äº’çš„é«˜çº§æ¥å£ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…ç®€åŒ–å¯¹æ•°æ®åº“çš„æ“ä½œã€‚

![ORM](/static/assets/images/how-to-create-a-full-stack-app-by-nextjs/orm.png)

ä¾‹å­å¦‚ä¸‹(TypeORM)ï¼š

```typescript:entities/student.ts
@Entity()
class Student {
  @PrimaryGeneratedColumn()
  id: number

  @Col()
  name: string
}
```

```typescript:services/student.ts
class UserService {
  find() {
    return Student.find()
  }

  async create(name: string) {
    const stu = new Student()
    stu.name = name
    await stu.save()
  }
}
```

åœ¨ORMä¸­ï¼Œå¯¹è±¡ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤šçš„å…³ç³»ï¼Œè¿™äº›å…³ç³»éå¸¸é‡è¦ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½çš„ç»„ç»‡æ•°æ®ï¼Œå®ç°æ•°æ®çš„å…³è”å’ŒæŸ¥è¯¢ã€‚

![ORM_RelationShip](/static/assets/images/how-to-create-a-full-stack-app-by-nextjs/orm-relationship.png)

```typescript:entities/student.ts
@Entity()
class Student {
  ...
  @OneToOne()
  profile: Profile

  @OneToMany(...)
  scores: Score[]

  @ManyToMany(...)
  @JoinTable()
  teachers: Teacher[]
}
```


Nodeå¸¸ç”¨çš„ORMå¦‚ä¸‹ï¼š

- [Prisma](https://www.prisma.io/)
- [TypeORM](https://typeorm.io/)
- [Sequelize](https://sequelize.org/)
- [Mongoose](https://mongoosejs.com/)(MongoDB)


æˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ

å¯¹æ¯”ä¸Šé¢å‡ ä¸ªORMï¼ŒPrismaçš„é£æ ¼æ›´æ¥è¿‘**å‡½æ•°å¼ç¼–ç¨‹**ï¼Œè€Œå…¶ä»–ORMæ›´åå‘äº**é¢å‘å¯¹è±¡ç¼–ç¨‹**ï¼Œå¹¶ä¸”åœ¨Typescripté¡¹ç›®ä¸­ä½¿ç”¨è£…é¥°å™¨çš„è¯ï¼Œéœ€è¦åšæ›´å¤šçš„é…ç½®æ“ä½œã€‚

æ‰€ä»¥å¯¹äºNext.jsæ¥è¯´ï¼Œå…¶å®ä½¿ç”¨Prismaæ›´ä¸ºå¥‘åˆã€‚

## ç»“åˆ

ç»¼ä¸Šæ‰€è¿°ï¼Œå¼ºçƒˆæ¨èå¤§å®¶ä½¿ç”¨ `Next.js + Prisma + PostgreSQL / MySQL` çš„æŠ€æœ¯æ ˆå»å®ç°è‡ªå·±çš„å…¨æ ˆAppï¼Œå½“ç„¶ï¼Œå…¶ä¸­çš„å‰ç«¯æ ·å¼æ–¹æ¡ˆå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å»é€‰æ‹©ã€‚

è¿™é‡Œæ¨èå‡ ä¸ªä½¿ç”¨ä¸Šè¿°æŠ€æœ¯æ ˆå®ç°çš„é¡¹ç›®ï¼Œå¯ä»¥å€Ÿé‰´å­¦ä¹ ä¸€ä¸‹ã€‚

- [umami](https://umami.is/) ä¸€ä¸ªå¯è‡ªå®šä¹‰éƒ¨ç½²çš„ã€è½»é‡çº§çš„Google Analytics

- [typebot.io](https://typebot.io/) ä¸€ä¸ªå¾ˆæœ‰è¶£çš„èŠå¤©æ¡†App
